<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Register | Technex '17</title>
        <link rel='stylesheet' href='/static/login2_files2/kla.css'>
        <link rel="stylesheet" href="/static/login2_files2/css.css">
        <link rel="stylesheet" href="/static/login2_files2/bootstrap.min.css">
        <link rel="stylesheet" href="/static/login2_files2/font-awesome.min.css">
		<link rel="stylesheet" href="/static/login2_files2/form-elements.css">
        <link rel="stylesheet" href="/static/login2_files2/assets/css/style.css">
        <link rel="stylesheet" href="/static/css/jquery-ui.css" type="text/css" media="all" />

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
        <link rel="shortcut icon" href="/static/favicon.ico">
        <style type="text/css">
        </style>
       <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68539305-2', 'auto');
  ga('send', 'pageview');

</script>
    </head>
     <body>
   
        <div class="top-content">
             	
            <div class="inner-bg">
                <div class="container" style="margin-top: -50px;">
                  
                    <div class="row">
                        <div class="col-sm-6 col-sm-offset-3 form-box">
                        	
                        	<form role="form" action="" method="post" class="registration-form">
                        		
                          {% csrf_token %}



                             <fieldset style="display: block;">
                            <div class="form-top" style="padding-bottom: 0px;">
                                <div class="form-top-left">
                                  <h3><b style="font-size: 26px;padding-bottom: 0px;">REGISTER FOR TECHNEX '17</b></h3>
                                </div>
                                <div class="form-top-right">
                                  <i class="fa fa-user"></i>
                                </div>
                                </div>
                                <div class="form-bottom" style="padding-bottom: 35px;">
                                <div class="form-group" style="display: table;margin: 0 auto;">
                            <button type="button" id="btn-next-page-fb" class="" onclick="fb_login()">REGISTER WITH FACEBOOK</button>
                            </div>
                            <div class="form-group" style="display: table;margin: 0 auto;">
                             <h3> ----- OR ----- </h3>
                            </div>
                            <div class="form-group" style="margin-top: 6%;display: table;margin: 0 auto;">
                          <button type="button" id="btn-next-page-email" class="btn btn-next">REGISTER WITH EMAIL</button>
                          </div>
                                </div>
                            </fieldset>

                        		 <fieldset>
                              <div class="form-top">
                                <div class="form-top-left">
                                  <h3><b>Step 1 / 2</b></h3>
                                    <p>Tell us who you are:</p>
                                </div>
                                <div class="form-top-right">
                                  <i class="fa fa-user"></i>
                                </div>
                                </div>
                                <div class="form-bottom">
                              <div class="form-group">
                                <label class="sr-only" for="form-first-name">First name</label>
                                  <input type="text" name="name" placeholder="Name" class="form-first-name form-control" id="form-first-name" value='{% if name %}{{name}}{% endif %}'>

                                </div>
                              
                                         <div class="form-group">
                                  <label class="sr-only" for="form-email">Email</label>
                                  <input name="email" placeholder="Email" class="form-email form-control" id="laluram" type="text" value='{% if email %}{{email}}{% endif %}'>
<!-- my changes -->
                                  <div class="alert-message alert-email" id="email-error">
                                          <button type="button" id="close-email" class="close-btna close-btn">
                                             <span aria-hidden="true">&times;</span>
                                           </button>
                                  <input type='hidden' id='uid' value='{% if uid %}{{uid}}{% endif %}' />
  <!-- <strong>Sorry!</strong> -->Email entered is incorrect.
</div>
  <div class="alert-message alert-email" id="email-repeat">
                                          <button type="button" id="close-email-repeat" class="close-btna close-btn">
                                             <span aria-hidden="true">&times;</span>
                                           </button>
  <!-- <strong>Sorry!</strong> -->Email already registered
</div>
<!-- my changes -->
                                  <span class="m-field-error" id="mail-error"></span>
                                  <!-- <p id="email-error" class="error-message"></p> -->
                                </div>
                                <div class="form-group">
                                <label class="sr-only" for="form-password">Password</label>
                                  <input type="password" name="password" placeholder="Password" class="form-password form-control" id="password">
                                </div>
                                <div class="form-group">
                                  <label class="sr-only" for="form-repeat-password">Repeat password</label>
                                  <input type="password" name="form-repeat-password" placeholder="Repeat password" class="form-repeat-password form-control" id="confirm_password">
                                   <div class="alert-message alert-confirm-password">
                                   <button type="button" id="close-confirm-password" class="close-btn close-btna">
    <span aria-hidden="true">&times;</span>
  </button>
  <!-- <strong></strong>  -->Password didn't match.
</div>
                                    <!-- <p id="confirm-password-error" class="error-message"></p> -->
                                </div>
                                         <button type="button" id="btn-next" class="btn btna btn-next pure-button pure-button-primary pull-right">NEXT</button>
                            </div>
                          </fieldset>
                          <fieldset>
                          
                          
                              <div class="form-top">
                                <div class="form-top-left">
                                  <h3>Step 2 / 2</h3>
                                    <p>Set up your account:</p>
                                </div>
                                <div class="form-top-right">
                                  <i class="fa fa-user"></i>
                                </div>
                                </div>

                                <div class="form-bottom">
                                 <div class="form-group">
                                  <label class="sr-only" for="form-college">College</label>
                                  <input type="text" name="college" placeholder="College name" class="form-last-name form-control" id="form-college">
                                </div>

                                     <div class="form-group">
                                     <label class="sr-only" for="form-college">YEAR</label>
                                        <select style="background: rgba(0,0,0,0.8);" class="show-menu-arrow form-control" id="id_year" name="year">
                                        <option selected="selected" value="-1">--SELECT YOUR YEAR--</option>
                          <option value="1">First</option>
                  <option value="2">Second</option>
                        <option value="3">Third</option>
                    <option value="4">Fourth</option>
                        <option value="5">Fifth</option>
                            </select> 
                            </div>
                               <div class="form-group">
                                  <label class="sr-only" for="form-mobilenumber">MOBILE NUMBER</label>
                                  <input type="text" name="mobileNumber" placeholder="Mobile No (10 digits)" class="form-mobile-number form-control" id="form-mobile">
                                  <div class="alert-message alert-mobile">
  <button type="button" id="close-mobile" class="close-btn close-btna">
    <span aria-hidden="true">&times;</span>
  </button>
        Incorrect Mobile number
</div>
                                </div>
                                <div class="form-group">
                                  <label class="sr-only" for="form-city">City</label>
                                  <input type="text" name="form-city" placeholder="City (current)" class="form-city form-control" id="form-city">
                            
                                            
                               
                            </div>
                            <div class="form-group" style="color: white;">
                            HAVE A CA_REFERRAL ID?
                            <div class="material-switch pull-right">
                            <input id="someSwitchOptionInfo" name="someSwitchOption001" type="checkbox"/>
                            <label for="someSwitchOptionInfo" class="label-info"></label>
                            </div>
                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="form-ca-email">CA-Email</label>
                             <input name="ca-email" placeholder="Referral Email" class="form-ca-email form-control" id="referral-email" type="text" disabled="true"/> 
                                                           <div class="alert-message alert-email" id="invalid-referral">
                                   <button type="button" id="close-invalid-referral" class="close-btn close-btna">
    <span aria-hidden="true">&times;</span>
  </button>
    Invalid Email Address
</div>
                                                <div class="alert-message alert-email" id="no-referral">
                                                  <button type="button" id="close-no-referral" class="close-btn close-btna">
                       <span aria-hidden="true">&times;</span>
                </button>
                 No Such CA Email
          </div>
                              

                            </div>
                          
                          <button type="button" class="btn  btna btn-previous">PREVIOUS</button>

                           <button type="button" id="btn-next-page" class="btn btna btn-next page-2">NEXT</button>
                               
                            </div>
                          
                          

                        </fieldset>
                        <fieldset>
                          
                          <div class="form-top" style="padding-bottom: 0px;">
                                <div class="form-top-left">
                                  <h3><b style="font-size: 26px;padding-bottom: 0px;" id='thankYou'></b></h3>
                                </div>
                                <div class="form-top-right">
                                  <i class="fa fa-user"></i>
                                </div>
                                </div>
                                <div class="form-bottom" style="padding-bottom: 35px;">
                                <div class="form-group" style="display: table;margin: 0 auto;">
                           <h3>
                             <b id='personal'></b>

                           </h3>
                           
                            </div>

                        </fieldset>
		                    </form>
		                    
                        </div>
                    </div>
                </div>

            </div>
            
        </div>

 <script src='/static/jquery.min.js'></script>
        <script src="/static/login2_files2/bootstrap.min.js"></script>
        <script src="/static/login2_files2/jquery.backstretch.min.js"></script>
        <script src="/static/login2_files2/retina-1.1.0.min.js"></script>
        <script src="/static/login2_files2/scripts.js"></script>
          <script src="/static/js/1.12.0jquery-ui.min.js"></script>

       <script type="text/javascript">
$(document).ready(function(){var token = {{status}};
if(token) $("#btn-next-page-email").trigger( "click" );
});
var csrfmiddlewaretoken = '{{ csrf_token }}';

  function theAjax(uri,data){
 return $.ajax({
    type:"POST",
    dataType:"json",
    url: uri,
    data : data
 });
};


window.fbAsyncInit = function () {
    FB.init({
        appId: '461359507257085',
        cookie: false,  // enable cookies to allow the server to access
        // the session
        xfbml: true,  // parse social plugins on this page
        version: 'v2.0' // use version 2.0
    });
};

// Load the SDK asynchronously
(function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));


function fb_login() {
    FB.login(function (response) {

        if (response.authResponse) {
            //console.log('Welcome!  Fetching your information.... ');
            //console.log(response); // dump complete info
            access_token = response.authResponse.accessToken; //get access token
            user_id = response.authResponse.userID;
            console.log(response)
            console.log(access_token);
            data = {}
            data['accessToken'] = response.authResponse.accessToken;
    data['uid'] = response.authResponse.userID;
    data['csrfmiddlewaretoken']= csrfmiddlewaretoken;
    theAjax('/fbConnect/',data).done(function(response){
      console.log(response);
      if (response['status'] == 1)
        window.location = '/dashboard'
      else{
        getData = 'name='+response['context']['name'];
        if ('email' in response['context']) getData += '&email='+response['context']['email'];
        getData += '&uid='+response['context']['uid'];
        window.location = '/register/?'+getData;

      } 
    });

        } else {
            //user hit cancel button
            console.log('User cancelled login or did not fully authorize.');

        }
    }, {
        scope: 'public_profile'
    });
}

$(function(){
  var availableTags = [
       {% for clg in all_colleges %}
           "{{clg}}",
       {%endfor%}
     ];

$("#form-college").autocomplete({
       source: availableTags
     });
   });
   // over write the default autocomplete function to match the option starting with term
   $.ui.autocomplete.filter = function (array, term) {
     var matcher = new RegExp("^" + $.ui.autocomplete.escapeRegex(term), "i");
     return $.grep(array, function (value) {
       return matcher.test(value.label || value.value || value);
     });
   };
</script>
</body></html> 